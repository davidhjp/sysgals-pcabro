Cabro(input signal A,B,R; output signal O; output int channel C1;)->{
	int signal num;
	loop{
		abort(R){
			{await(A);}||{await(B);}
			{+
				int i = get_next_fib();
				sgl_SetChanVal(C1, &i);
			+}
			emit O;
			send C1;
			halt;
		}
	}
}
